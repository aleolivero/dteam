{% extends "layout_player.html" %}
{% load static %}
{% load widget_tweaks %}
{% load humanize %}
{% load custom_tags %}
{% block content %}


<div class="container d-flex align-items-center justify-content-center flex-column ">  
    

    <div class="answers-player w-100 mt-5 rounded-3">
        
        <h1 class="text-center my-3" style="color: #9DACBF;"><b>ยก Ganadores !</b> </h1>
        
        <div class="answers-player">

                
            
            <div class="mt-3">
                
                <table class="table table-striped table-hover w-100 answers-player-table mt-1">
                    <thead>
                        <tr>
                            <th class="col text-center" scope="col">Evento</th>
                            <th class="col text-center" scope="col">Fecha</th>
                            <th class="col text-center" scope="col">Estado</th>
                            <th class="col text-center" scope="col">Ganador</th>
                            <th class="col text-center" scope="col">Opciones</th>
                        </tr>
                        
                    </thead>
                    
                    <tbody>
                        
                        {% for event in events %}
                        <tr>
                            <td class="col text-center">{{event.name}}</td>
                            <td class="col text-center">{{event.date}}</td>
                            <td class="col text-center">{{event.status}}</td>
                            <td class="col text-center">
                                {% if event.winner %}
                                    

                                <div class="d-flex justify-content-center">

                                    <img
                                    src="{{ event.winner.image|url }}"
                                    alt=""
                                    style="width: 45px; height: 45px;"
                                    class="rounded-circle"
                                    />
      

                                    <div class="ms-3 text-start">
                                        <p class="fw-bold mb-1">{{ event.winner.first_name }} {{ event.winner.last_name }} &nbsp</p>
                                        <p class="mb-0" style="color: #171F2C;">{{ event.winner.user }}  </p>
                                    </div>
        
                                </div>
                                
                                {% endif %}
                            </td> 

                            <td class="col  text-center options">
                                <div class="d-flex justify-content-center">
            
                                    <a class="btn btn-primary mx-1"  href="{% url 'eventsPlayerResult' event.id %}" data-bs-toggle="tooltip"  data-bs-placement="top" title="Ver ranking"><i class="fa-solid fa-ranking-star"></i></a>

                                </div>
                            </td>    




                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="11" class="w-10 text-center"> No hay eventos </th>
                        </tr> 

                        {% endfor %}

                        
                    </tbody>
                    
                </table>
                
            </div>
    
        </div>
    
    </div>

</div>
<script>

    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))


</script>

{% endblock %}